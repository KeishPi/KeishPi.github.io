<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title></title>
<meta name="keywords" content="" />
<meta name="description" content="" />
<link href="http://fonts.googleapis.com/css?family=Varela" rel="stylesheet" />
<link href="default.css" rel="stylesheet" type="text/css" media="all" />
<link href="fonts.css" rel="stylesheet" type="text/css" media="all" />

<!--[if IE 6]><link href="default_ie6.css" rel="stylesheet" type="text/css" /><![endif]-->

</head>
<body>
<div id="wrapper">
	<div id="header-wrapper">
	<div id="header" class="container">
		<div id="logo">
			<h1 <a href="#">The New York Times API</a> </h1>
		</div>
<!--
        <div id="menu">
			<ul>
				<li class="current_page_item"><a href="#" accesskey="1" title="">Homepage</a></li>
				<li><a href="#" accesskey="2" title="">Our Clients</a></li>
				<li><a href="#" accesskey="3" title="">About Us</a></li>
				<li><a href="#" accesskey="4" title="">Careers</a></li>
				<li><a href="#" accesskey="5" title="">Contact Us</a></li>
			</ul>
		</div>
-->
	</div>
	</div>
	<div id="banner">
		<div class="container">
			<div class="title">
				<h2>Article Search</h2>
				<span class="byline">This tutorial will teach you how to use the NY Times Article Search API
				to find articles based on keyword(s).</span> </div>
<!--
            <ul class="actions">
				<li><a href="https://developer.nytimes.com" class="button">NY Times APIs</a></li>
			</ul>
-->
		</div>
	</div>
    <!------------ INTRODUCTION SECTION ------------->
	<div id="extra" class="container">
		<div class="title">
			<h2>The New York Times</h2>
            <span class="byline">An Introduction</span> </div>
                <p class="myText"> You may have heard of <a href="https://www.nytimes.com">The New York Times</a>
                    as they are one of the top sources of news and information. What you may not know is that they
                    are also a premier source of data, being one of only a few newspapers to open their APIs to the public.
                    They offer a suite of APIs including article search, movie reviews, and top stories.<br>
                </p>
                <img src="Images/API_Suite.png"><br>
                <p class="myText">In this tutorial we're going to focus on the Article Search API, which allows you to
                    search their archive of articles dating back to September 18, 1851.  The general approach is that
                    you can submit a query and the API returns a JSON list of articles that match your query.<br>
                    This tutorial is for those who have a basic knowledge of HTML and Javascript.  If not, don't fear!
                    There are many tutorials out there that will get you up to speed quickly.  Before we dive in,
                    take a look at the developer <a href="https://www.developer.nytimes.com/faq">FAQ</a> and
                    <a href="https://www.developer.nytimes.com/tou">Terms of Use</a>.
                </p>
            <ul class="actions">
                <li><a href="https://developer.nytimes.com" class="button">NY Times APIs</a></li>
            </ul>

<!--
		<div id="three-column">
			<div class="boxA">
				<div class="box"> <span class="fa fa-cloud-download"></span>
					<p>Praesent pellentesque facilisis elit. Class aptent taciti sociosqu ad litora torquent per conubia nostra.</p>
				</div>
			</div>
			<div class="boxB">
				<div class="box"> <span class="fa fa-cogs"></span>
					<p>Etiam neque. Vivamus consequat lorem at nisl. Nullam non wisi a sem semper eleifend. Donec mattis.</p>
				</div>
			</div>
			<div class="boxC">
				<div class="box"> <span class="fa fa-user"></span>
					<p> Aenean lectus lorem, imperdiet at, ultrices eget, ornare et, wisi. Pellentesque adipiscing purus.</p>
				</div>
			</div>

		</div>
		<ul class="actions">
			<li><a href="#" class="button">Etiam posuere</a></li>
		</ul>
-->
	</div>
    <!------------ GETTING STARTED/API KEY SECTION ------------->
	<div id="featured">
		<div class="container">
			<div class="title">
				<h2>Getting Started</h2>
				<span class="byline">Requesting an API Key</span> </div>
			<p> The use the NY Times API in your application you must first get an
                <a href="https://developer.nytimes.com/signup">API key</a>.
                This key allows the NY Times to monitor usage levels and make sure developers are complying with
                the Terms of Use.  Note that if you plan on using more than one of the NY Times APIs, you'll need to
                request a separate key for each one. We will use this API key in each query we make (more on this later).</p><br>
            <img src="Images/API_Key.png"><br>
			<p>After completing and submitting the form above you should receive an email containing your very own API key!
                You are allowed 1,000 API calls per day and 5 calls per second, which should be more than enough for our needs.
                Be careful not to share your key with anyone or make it public as it identifies you as the developer.</p>
		</div>


        <ul class="actions">
			<li><a href="https://developer.nytimes.com/signup" class="button">Get API Key</a></li>
		</ul>

	</div>
    <!------------ USING THE CONSOLE TOOL SECTION ------------->
    <div id="page" class="container">
		<div class="title">
			<h2>Article Search API</h2>
			<span class="byline">Using the Console Tool</span> </div>
		<p> Each NY Times API features a nifty Console Tool that allows you to build a query, submit it, and inspect the resulting
            response.  This is especially useful for novice programmers as it allows them to validate the query construction and
            response before putting it in their code.</p>
        <p> To get to the Console, click on the Article Search API <a href="https://developer.nytimes.com">here</a>:</p>
        <img src="Images/ArticleSearchClick.png" width="100%"><br>
        <p> Then click on "Console" in the upper right corner:</p>
        <img src="Images/ConsoleClick.png" width="100%"><br>
        <p> Now you should see a page that looks like this:</p>
        <img src="Images/ConsoleScreen.png" width="100%"><br>
        <p> Now let's break down this page to better understand how to build a query and interpret the response. <br>
            On the right side of the screen we see a "Credentials" section and a field for your apikey.  Go ahead and
            paste your own key into this field. We'll come back to the "Sample Code" section in just a bit.  The third section
            called "Parameters" includes various fields you can use to narrow your search results.  You can get details on
            the parameters on their <a href="https://developer.nytimes.com/article_search_v2.json#/Documentation/GET/articlesearch.json">Documentation</a>
            page, or by clicking on a particular parameter field, but for now let's just focus on the first parameter, q.
            This is a string that represents your search query term and searches the article, body, headline, and byline.
            You'll notice that I entered the word "feminism" in this field. Now you should see a response to your query
            automatically generated on the left side of the screen.<br> Congrats! You just made your first query to the NY
            Times API! I recommend tinkering with this useful tool to get an idea of the types of queries you can make and
            verify that the responses generated are what you want. In the next few sections we'll get into the nitty gritty
            of how the query works and interpreting the response. </p>

        <ul class="actions">
			<li><a href="https://developer.nytimes.com/article_search_v2.json#/Console" class="button">Console</a></li>
		</ul>

	</div>
    <!------------ QUERY/GET REQUEST SECTION ------------->
    <div id="featured">
        <div class="container">
            <div class="title">
                <h2>What's in a Query?</h2>
                <span class="byline">Understanding the GET Request</span> </div>
            <p> Now that you've gotten your feet wet with the Console Tool and have an idea of what kind of queries you can make,
                let's try to understand what's happening under the hood.</p>
            <p> Remember the "Sample Code" section we skipped over in the last section?  Let's take a look at that now.<br>
                Continuing our previous example, let's say we just want to do a simple query for all articles that contain the
                word "feminism" and we want to sort our results by newest publication date (the default is to sort by relevance to
                the search term - q).  Your Console should look something like this: </p>
            <img src="Images/SimpleQuery.png" width="100%"><br>
            <p> What is all that gibberish?  Let's interpret the Javascript line by line.<br></p>
                <ul>
                    <li> Generally all queries will follow this format: </li>
                    <code> endpointURL?key1=value1&key2=value2&keyn=valuen...&api-key=### </code>
                    <li> This is the endpoint (base URL) of our API call, which we have saved to a variable called "url".
                         It is a required part of your query along with your API key. <br></li>
                    <code> var url = "https://api.nytimes.com/svc/search/v2/articlesearch.json" </code>
                    <li> After our endpoint URL we append a "?" to the end, then each parameter is appended to that in their respective
                        key-value pair in the format <code>&key=value</code>.  This type of format is called a
                        <a href="https://en.wikipedia.org/wiki/Uniform_Resource_Identifier">URI</a> structure.  It's just a string of characters
                        used to identify a resource, which enables interaction with representations of the resource over a network. <br></li>
                    <code> url += '?' + $.param({<br>
                        'api-key': "Your API Key Here",<br>
                        'q': "feminism",<br>
                        'sort': "newest"<br>
                        }); </code>
                    <li> Here is what the same GET request will look like as a full query string: </li>
                    <code> https://api.nytimes.com/svc/search/v2/articlesearch.json?q=feminism&sort=newest&api-key=#### </code>
                    <li> Note the endpoint URL, followed by a ?, then the q parameter and it's value, the sort parameter and it's value <br>
                         and finally your own API key at the end. </li>
                    <li> The rest of the sample code simply says that we are making a GET request and once we get the results back from the
                         NY Times server, we want to display it to the screen. </li>
                    <li> Now you've created a valid GET request!  You can either use the Javascript sample code to send the request or simply
                         paste your query string into a browser. In the next section we'll look at the NY Time response we receive back from our request.</li>
                </ul>
            <ul class="actions">
                <li><a href="https://developer.nytimes.com/article_search_v2.json#/Console" class="button">Try It</a></li>
            </ul>
        </div>
    </div>
    <!------------ INTERPRETING THE RESPONSE SECTION ------------->
    <div id="page" class="container">
        <div class="title">
            <h2>Interpreting the Response</h2>
            <span class="byline">What the heck is a JSON?</span> </div>
        <p> Now that you've successfully sent your request, you'll receive a response in JSON format.  What is
            <a href="http://www.json.org/">JSON</a>?  It stands for JavaScript Object Notation and is similar to an object and array structure
            in that it is a collection of name/value pairs and is an ordered list of values. </p>
        <p> This is what a portion of the response from our example request above looks like: </p>
        <img src="Images/rawJSON.png" width="100%"><br>
        <p> But this is rather difficult to read. So if you want it nicely formatted in your browser you can download this Chrome extension
        <a href="https://chrome.google.com/webstore/detail/json-formatter/bcjindcccaagfpapjjmafapmmgkkhgoa?hl=en">JSON Formatter</a> and it will
            look like this instead: </p>
        <img src="Images/formattedJSON.png" width="100%"><br>
        <p> Much better!<br> Now collapse all the trees by clicking on the arrows, so it looks like this: </p>
        <img src="Images/minTrees.png" width="100%"><br>
        <p> So the APIs response is just an object with a response property, a status property ("OK" means your query was successful), and a
            copyright property.  If we expand the response property we see that it contains two more properties: <code>meta</code>
            and <code>docs</code>. Note that the order isn't guaranteed, so you may see your results in a slightly different order.</p>
        <img src="Images/metaDocs.png" width="100%"><br>
        <p> <code>meta</code> is an object which contains three properties that have information about the API query. </p>
            <ul>
                <li><code>hits</code>: the number of search results</li>
                <li><code>time</code>: the time it took to get the results</li>
                <li><code>offset</code>: the results page we are currently on</li>
            </ul>
        </p>
        <p> <code>docs</code> is an array containing the articles that were returned.  You'll notice next to docs it says "10 items".
            The Article Search API only returns a max of 10 results at a time, so you'll need to use the page query parameter
            we saw in the Console and documentation to paginate through the results.  You can paginate up to 100 pages (1,000 results).
            If you have too many results you can filter them further by using a date range or another parameter. In the docs array,
            each element of the array is one article, which each have their own properties. </p>
        <img src="Images/docsArray.png" width="100%"><br>
        <p> Now if we expand the docs tree we can see it's properties.  Say I want to access the headline property in docs so I can display or
            print it.  Then in Javascript I would use dot notation to access the values like this: <code>response.docs.articles[0].headline.main</code>.
            This just references each "tree" in our object to get at the property we want.  In the next section we'll walk through an example to
            tie everything together. </p>
        <img src="Images/docsProperties.png" width="100%"><br>
    </div>
    <!------------ EXAMPLE SECTION ------------->
    <div id="featured">
        <div class="container">
            <div class="title">
                <h2>Tying it All Together</h2>
                <span class="byline">An Example Using the NY Times Article Search API</span> </div>
            <p> We've covered all the bits and pieces of the NY Times API but let's walk through an example. </p>
            <p> Previously, we built a query string and sent it as a GET request by pasting the string into a URL.
                Though convenient for one request, it's not very practical if you want to make several requests.
                We showed a glimpse of some Javascript that would send the request for you instead, so let's expand on that. </p>
            <p> This is a GET request in Javascript, similar to the one we saw in the previous section.  Feel free to use
                either one, I just think the one below is more readable than the Console Javascript.  You can see we save
                each component of the GET request into a variable, so you don't need to interpret a long query string each
                time you want to change something.  This type of request (called a synchronous request) waits for the request
                to complete before doing anything with the response. But this by itself still doesn't do much- it simply logs
                to the console the JSON object response from the API.  If you wanted to change the search parameters you would
                need to manually change the code each time. </p>
            <iframe width="100%" height="300" src="//jsfiddle.net/keishPi/py0qmgxv/embedded/js/dark/" allowfullscreen="allowfullscreen" frameborder="0"></iframe>
            <p> Now let's go a step further and make a simple form that the user can use to enter their own search parameters, submit, then
                receive results from the API. </p>
            <iframe width="100%" height="300" src="//jsfiddle.net/sn71fkkd/embedded/js,html/dark/" allowfullscreen="allowfullscreen" frameborder="0"></iframe>            <p> Let's break down the code above.  We're still making a request object as before, but we also register a listener
                on the request's load event. This allows us to make an asynchronous request.  Note that we also changed the
                last parameter of the <code>req.open</code> line from false to true.  In the first example, our code
                would pause and wait for the request to finish.  With an asynchronous request we can continue to do work while
                we wait for that function to return.  We also added a second event listener to the forms submit button. So
                when the user clicks submit that code is executed.  This is what the webpage looks like after clicking submit: </p>
            <img src="Images/GETUserForm.png" width="100%"><br>
            <p> This is a bit better, but we still display the response in JSON format, which isn't very reader friendly.  Remember the
                dot notation structure we referenced in the last section to access the properties we wanted?  Let's use that to
                make this easier to read.  In fact, let's go even further and say we only want to print out the headlines of
                the articles that are returned.</p>
            <iframe width="100%" height="300" src="//jsfiddle.net/keishPi/gu7xey5m/embedded/js,html/dark/" allowfullscreen="allowfullscreen" frameborder="0"></iframe>
            <p> We know the articles are going to be in the <code>data.response.docs </code>section so we made a variable
                called "data" to store that path. We also added an element to our HTML with an ID of 'headline', then assigned that
                variable's textContent property to <code>articles[0].headline.main</code>.</p>
            <img src="Images/headlineForm.png" width="100%"><br>
            <p> For the sake of variety this time I searched "Hawaii".  This gives us the headline, but only of the first article.
                Remember "articles" is an array, so by using bracket notation we are only accessing the first article by saying
                <code>articles[0]</code>.  Well that's great, but we want all the headlines right? So one more step!  Let's
                get all the headlines returned and let's also print a snippet from each article. </p>
            <iframe width="100%" height="300" src="//jsfiddle.net/keishPi/f0pg1hzr/embedded/js,html/dark/" allowfullscreen="allowfullscreen" frameborder="0"></iframe>
            <p> A for loop was added to iterate through all the articles (remember we only get 10 at a time), then we created a new
                "h1" element and "p" element at each loop for the headline and snippet, respectively.  TA DA! </p>
            <img src="Images/hawaiiHeadlineSnippet.png" width="100%"><br>
        </div>
    </div>
    <!------------ IN SUMMARY SECTION ------------->
    <div id="page" class="container">
        <div class="title">
            <h2>In Summary...</h2>
            <span class="byline">Oh the Possibilities!</span> </div>
        <p> Whew!  In this Getting Started Guide for the NY Times Article Search API, we covered how to request an API Key,
            how to use the NY Times Console Tool, how to build a query string and submit it both as a URL and as a Javascript
            GET request and how to interpret the JSON response. We capped it all off by showing several examples showing
            different ways to send the request and also added a form so a user can input their own search parameters and
            receive a nicely formatted response. </p>
        <p> We've only just scratched the surface of what you can do with the NY Times API. Feel free to check out their
            different APIs and experiment!</p>
    </div>

</div>

<div id="copyright" class="container">
	<p>&copy; Untitled. All rights reserved. | Design by <a href="http://templated.co" rel="nofollow">TEMPLATED</a>.</p>
</div>
</body>
</html>
